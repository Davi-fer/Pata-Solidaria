[{"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\index.js":"1","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Auth.jsx":"2","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\RegisterPet.jsx":"3","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Profile.jsx":"4","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\About.jsx":"5","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Browse.jsx":"6","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\AnimalDetails.jsx":"7","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Home.jsx":"8","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Navbar.jsx":"9"},{"size":1136,"mtime":1731795099814,"results":"10","hashOfConfig":"11"},{"size":4018,"mtime":1731798753661,"results":"12","hashOfConfig":"11"},{"size":5674,"mtime":1731798091648,"results":"13","hashOfConfig":"11"},{"size":2750,"mtime":1731795099690,"results":"14","hashOfConfig":"11"},{"size":1806,"mtime":1731795099681,"results":"15","hashOfConfig":"11"},{"size":2865,"mtime":1731798612237,"results":"16","hashOfConfig":"11"},{"size":2086,"mtime":1731795099684,"results":"17","hashOfConfig":"11"},{"size":1533,"mtime":1731795099687,"results":"18","hashOfConfig":"11"},{"size":1153,"mtime":1731795099689,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ps4v50",{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\index.js",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Auth.jsx",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\RegisterPet.jsx",["48"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './Navbar';\r\nimport { useNavigate, useLocation } from 'react-router-dom'; \r\n\r\nconst RegisterPet = () => {\r\n  const location = useLocation();\r\n  const [animalData, setAnimalData] = useState({\r\n    nome: '',\r\n    tipo: '',\r\n    raca: '',\r\n    idade: '',\r\n    sexo: '',\r\n    tamanho: '',\r\n    comportamento: '',\r\n    nomedono: '',\r\n    telldono: '',\r\n    local: '',\r\n    descricao: ''\r\n  });\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const navigate = useNavigate(); \r\n  const [isAuthorized, setIsAuthorized] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (location.state && location.state.animal) {\r\n      const currentUserId = localStorage.getItem('userId');\r\n      const animalOwnerId = location.state.animal.userId;\r\n      \r\n      if (currentUserId !== animalOwnerId.toString()) {\r\n        setIsAuthorized(false);\r\n        navigate('/profile');\r\n        return;\r\n      }\r\n      \r\n      setAnimalData(location.state.animal);\r\n      setIsEditing(true);\r\n    }\r\n  }, [location.state, navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    setAnimalData({ ...animalData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const userId = localStorage.getItem('userId');\r\n      \r\n      if (isEditing && animalData.userId !== parseInt(userId)) {\r\n        alert('Você não tem permissão para editar este animal.');\r\n        return;\r\n      }\r\n\r\n      if (isEditing) {\r\n        await axios.put(`http://localhost:8800/api/animals/${animalData.id}`, animalData);\r\n      } else {\r\n        await axios.post(`http://localhost:8800/api/user/animals/${userId}`, { ...animalData, userId });\r\n      }\r\n      setShowAlert(true); \r\n      setTimeout(() => {\r\n        setShowAlert(false); \r\n        navigate('/profile'); \r\n      }, 3000);\r\n    } catch (error) {\r\n      console.error('Erro ao registrar animal:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='bg-gray-800'>\r\n      <Navbar />\r\n      <div className='petbg'>\r\n        <div className='petrbg'>\r\n          <div className='petrcontent '>\r\n            {showAlert && (\r\n              <div className=\"alert\">\r\n                {isEditing ? 'Animal atualizado com sucesso!' : 'Animal registrado com sucesso!'}\r\n              </div>\r\n            )}\r\n            <h2>{isEditing ? 'Edição de Animal' : 'Registrar Animal'}</h2>\r\n            <form onSubmit={handleSubmit}>\r\n              <div>\r\n                <label>Nome:</label><br />\r\n                <input type=\"text\" name=\"nome\" value={animalData.nome} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Tipo:</label><br />\r\n                <input type=\"text\" name=\"tipo\" value={animalData.tipo} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Raça:</label><br />\r\n                <input type=\"text\" name=\"raca\" value={animalData.raca} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Idade:</label><br />\r\n                <input type=\"number\" name=\"idade\" value={animalData.idade} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Gênero:</label><br />\r\n                <select name=\"sexo\" value={animalData.sexo} onChange={handleChange} required >\r\n                  <option value=\"\">Selecione</option>\r\n                  <option value=\"Macho\">Macho</option>\r\n                  <option value=\"Fêmea\">Fêmea</option>\r\n                  <option value=\"Não sei\">Não sei</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label>Tamanho:</label><br />\r\n                <select name=\"tamanho\" value={animalData.tamanho} onChange={handleChange} required >\r\n                  <option value=\"\">Selecione</option>\r\n                  <option value=\"Pequeno\">Pequeno</option>\r\n                  <option value=\"Medio\">Médio</option>\r\n                  <option value=\"Grande\">Grande</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label>Comportamento:</label><br />\r\n                <input type=\"text\" name=\"comportamento\" value={animalData.comportamento} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Nome do dono do animal:</label><br />\r\n                <input type=\"text\" name=\"nomedono\" value={animalData.nomedono} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Telefone para contato:</label><br />\r\n                <input type=\"text\" name=\"telldono\" value={animalData.telldono} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Local:</label><br />\r\n                <input type=\"text\" name=\"local\" value={animalData.local} onChange={handleChange} required />\r\n              </div>\r\n              <div>\r\n                <label>Descrição:</label><br />\r\n                <input type=\"text\" name=\"descricao\" value={animalData.descricao} onChange={handleChange} required />\r\n              </div>\r\n              <button type=\"submit\">{isEditing ? 'Atualizar' : 'Registrar'}</button>\r\n            </form>\r\n\r\n            {/* Botão de Voltar */}\r\n            <button onClick={() => navigate(-1)} className='voltar-btn'>\r\n              Voltar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPet;","C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Profile.jsx",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\About.jsx",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Browse.jsx",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\AnimalDetails.jsx",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Home.jsx",[],[],"C:\\Users\\Admin\\Desktop\\ProjectsHub\\patas-solidarias\\client\\src\\components\\Navbar.jsx",[],[],{"ruleId":"49","severity":1,"message":"50","line":24,"column":10,"nodeType":"51","messageId":"52","endLine":24,"endColumn":22},"no-unused-vars","'isAuthorized' is assigned a value but never used.","Identifier","unusedVar"]